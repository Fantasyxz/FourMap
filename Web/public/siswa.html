<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>FourMap - Siswa</title>
		
		<!-- Bootstrap -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"> 
		
		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="css/style_siswa.css"> 
		<link rel="stylesheet" type="text/css" href="css/style_sidebar.css"> 

		<!-- Fontawesome -->
		<script src="https://kit.fontawesome.com/e55a1c2b7c.js" crossorigin="anonymous"></script>

		<!-- font google -->
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;1,100&display=swap" rel="stylesheet">
		
		<!-- Bootstrap & JQuery Script -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
	</head>
	<body>
    
		<div class="d-flex" id="wrapper">
			
			<!-- Sidebar -->
			<div class="border-right" id="sidebar-wrapper">
				<div class="sidebar-heading">
					<img src="assets/images/bem.PNG" alt="img-profile" class="img-profile mt-2">
				</div>
				<div class="list-group list-group-flush">
					<div class="sidebar">
						<div class="row">
							<div class="col-9 sidebar-item">
								<i class="fas fa-map-marker-alt fa-md text-light"></i>
								<a href="map.html" class="sidebar-link pl-3 pr-1">Map</a>
							</div>
							<div class="col-9 sidebar-item">
								<i class="fas fa-clipboard-list fa-md text-light"></i>
								<a href="jadwal.html" class="sidebar-link pl-3 pr-1">Schedule</a>
							</div>
							<div class="col-9 sidebar-item id-sidebar">
								<i class="fas fa-users fa-md text-light" style="margin-left: -4px;"></i>
								<a href="#" class="sidebar-link pl-3 pr-1" style="margin-left: -4px;">Siswa</a>
							</div>
							<div class="col-9 sidebar-item">
								<i class="fas fa-user-tie fa-md text-light" style="margin-left: -1px;"></i>
								<a href="guru.html" class="sidebar-link pl-3 pr-1" style="margin-left: -1px;">Guru</a>
							</div>
							<div class="col-9 sidebar-item mt-4 logout">
								<i class="fas fa-sign-out-alt fa-md text-light" style="margin-left: -1px;"></i>
								<a href="#" class="sidebar-link pl-3 pr-1" style="margin-left: -1px;">Logout</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Sidebar End -->
	
			<!-- Content -->
			<div id="page-content-wrapper">

				<div class="content">

					<div class="row">
						<div class="col-1">
							<button class="btn btn-light btn-sm btn-toogle" id="menu-toggle">
								<i class="fas fa-bars fa-lg"></i>
							</button>
						</div>
						<div class="col-11">
							<div class="search">
								<input type="text" id="search" name="search" class="inputSearch" placeholder="Search data siswa here..">
								<a class="btn btn-dark btn-sm btn-search">
									<i class="fas fa-search fa-lg"></i>
								</a>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col">
							<div class="header">
								<h1 class="header-txt">Data Siswa SMKN 4 Bandung</h1>
							</div>
						</div>
					</div>  
					
					<div class="content-data">
						<div class="inner">
							<div class="row">
								<div class="col">
									<div class="table-head">
										<table class="table table-borderless">
											<thead>
												<tr>
													<th>NIS</th>
													<th>Nama</th>
													<th>Email</th>
													<th>Gender</th>
													<th>Kelas</th>
													<th>Jurusan</th>
													<th>TTL</th>
												</tr>
											</thead>
											<tbody class="data-siswa" id="data-siswa">
												
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
					
				</div>
				
			</div>
			<!-- Content End -->
		</div>


		<!-- Firebase SDK JS -->
		<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-database.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-analytics.js"></script>

		<script>
			var firebaseConfig = {
				apiKey: "AIzaSyDA4ISkZchgBXetGpD6YbpGNUa7LhUP16w",
				authDomain: "smartschool-7d50c.firebaseapp.com",
				databaseURL: "https://smartschool-7d50c.firebaseio.com",
				projectId: "smartschool-7d50c",
				storageBucket: "smartschool-7d50c.appspot.com",
				messagingSenderId: "619429070631",
				appId: "1:619429070631:web:5562404d166e323f430b02",
				measurementId: "G-JZYNBWDGCV"
			};
			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			firebase.analytics();
			
			// Get a reference to the database service
			var database = firebase.database();
			
			// inisialize variable
			var siswaRef = firebase.database().ref().child('siswa');
			
			// Read Data Function
			siswaRef.on("value", function(snapshot){
				$("#data-siswa").empty();
				var content = "";

				snapshot.forEach(function(childsnapshot){
					var x = childsnapshot.val();  
					content += "<tr>";
					content +=	"<td>" + x.nis  + "</td>";
					content +=	"<td>" + x.nama + "</td>";
					content +=	"<td>" + x.email + "</td>";
					content +=	"<td>"+ x.gender +"</td>";
					content +=	"<td>" + x.kelas + "</th>";
					content +=	"<td>" + x.jurusan + "</td>";
					content +=	"<td>" + x.ttl + "</td>";
					content += "</tr>";
				});
				$("#data-siswa").html(content);
			});

			// Sidebar Function
			$("#menu-toggle").click(function(e) {
				e.preventDefault();
				$("#wrapper").toggleClass("toggled");
			});
		</script>
	</body>
</html>